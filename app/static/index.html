<!DOCTYPE html>
<html lang="zh-CN">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>å…¨çƒè§†è§’ | è·¨è¯­è¨€è§‚ç‚¹å¯¹æ¯”</title>
  <link rel="preconnect" href="https://fonts.googleapis.com" />
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
  <link
    href="https://fonts.googleapis.com/css2?family=Space+Grotesk:wght@400;500;600;700&family=Source+Serif+4:wght@400;600;700&display=swap"
    rel="stylesheet"
  />
  <style>
    :root {
      --ink: #0b0b0c;
      --muted: #57585c;
      --paper: #f6f6f4;
      --panel: #ffffff;
      --line: #d8d8d6;
      --shadow: 0 20px 40px rgba(0, 0, 0, 0.08);
      --radius: 18px;
    }

    * {
      box-sizing: border-box;
      margin: 0;
      padding: 0;
    }

    body {
      font-family: "Source Serif 4", "Noto Serif SC", "Songti SC", serif;
      color: var(--ink);
      background: radial-gradient(circle at top right, rgba(0, 0, 0, 0.06), transparent 45%),
        linear-gradient(180deg, #f8f8f6 0%, #f2f2ee 100%);
      min-height: 100vh;
    }

    body::before {
      content: "";
      position: fixed;
      inset: 0;
      pointer-events: none;
      background-image: linear-gradient(transparent 23px, rgba(0, 0, 0, 0.04) 24px),
        linear-gradient(90deg, transparent 23px, rgba(0, 0, 0, 0.04) 24px);
      background-size: 24px 24px;
      opacity: 0.25;
      z-index: 0;
    }

    #app {
      position: relative;
      z-index: 1;
      max-width: 1180px;
      margin: 0 auto;
      padding: 72px 24px 96px;
      display: flex;
      flex-direction: column;
      gap: 48px;
    }

    .brand {
      font-family: "Space Grotesk", "PingFang SC", sans-serif;
      text-transform: uppercase;
      letter-spacing: 0.4em;
      font-size: 12px;
      color: var(--muted);
    }

    .hero {
      display: grid;
      gap: 28px;
      animation: fadeIn 0.7s ease;
    }

    .hero h1 {
      font-family: "Space Grotesk", "PingFang SC", sans-serif;
      font-size: clamp(34px, 5vw, 56px);
      line-height: 1.05;
      letter-spacing: -0.02em;
    }

    .hero p {
      max-width: 640px;
      color: var(--muted);
      font-size: 16px;
      line-height: 1.7;
    }

    .search-box {
      display: grid;
      grid-template-columns: 1fr auto;
      gap: 12px;
      background: var(--panel);
      border: 1px solid var(--line);
      border-radius: 999px;
      padding: 8px;
      box-shadow: var(--shadow);
    }

    .search-box input {
      border: none;
      outline: none;
      background: transparent;
      padding: 14px 20px;
      font-size: 16px;
      font-weight: 600;
      color: var(--ink);
      font-family: "Space Grotesk", "PingFang SC", sans-serif;
    }

    .search-box button {
      border: none;
      background: #0b0b0c;
      color: #fff;
      font-weight: 700;
      padding: 12px 26px;
      border-radius: 999px;
      cursor: pointer;
      transition: transform 0.2s ease, box-shadow 0.2s ease;
      box-shadow: 0 12px 24px rgba(0, 0, 0, 0.2);
      font-family: "Space Grotesk", "PingFang SC", sans-serif;
    }

    .search-box button:hover {
      transform: translateY(-1px);
    }

    .assist {
      display: flex;
      flex-wrap: wrap;
      gap: 10px;
      font-size: 12px;
      color: var(--muted);
    }

    .assist span {
      border: 1px solid var(--line);
      padding: 6px 12px;
      border-radius: 999px;
      font-family: "Space Grotesk", "PingFang SC", sans-serif;
    }

    .results {
      display: none;
      flex-direction: column;
      gap: 36px;
      animation: fadeIn 0.6s ease;
    }

    .results.active {
      display: flex;
    }

    .results-header {
      display: flex;
      justify-content: space-between;
      align-items: center;
      gap: 16px;
      flex-wrap: wrap;
    }

    .query-card {
      background: var(--panel);
      border: 1px solid var(--line);
      padding: 14px 20px;
      border-radius: 12px;
      font-weight: 600;
      box-shadow: var(--shadow);
      font-family: "Space Grotesk", "PingFang SC", sans-serif;
    }

    .ghost-btn {
      border: 1px solid var(--line);
      background: transparent;
      padding: 10px 18px;
      border-radius: 999px;
      font-weight: 600;
      cursor: pointer;
      color: var(--muted);
      font-family: "Space Grotesk", "PingFang SC", sans-serif;
      transition: all 0.2s ease;
    }

    .ghost-btn:hover {
      border-color: var(--ink);
      color: var(--ink);
    }

    .module {
      background: var(--panel);
      border: 1px solid var(--line);
      border-radius: var(--radius);
      padding: 28px;
      box-shadow: var(--shadow);
      display: flex;
      flex-direction: column;
      gap: 20px;
    }

    .module-title {
      display: flex;
      flex-wrap: wrap;
      align-items: center;
      gap: 12px;
      font-family: "Space Grotesk", "PingFang SC", sans-serif;
    }

    .module-title h2 {
      font-size: 26px;
    }

    .module-header p {
      color: var(--muted);
      font-size: 14px;
      line-height: 1.6;
    }

    .module-actions {
      display: flex;
      flex-wrap: wrap;
      gap: 12px;
      align-items: center;
    }

    .primary-btn {
      border: none;
      background: #0b0b0c;
      color: #fff;
      font-weight: 700;
      padding: 10px 18px;
      border-radius: 999px;
      cursor: pointer;
      font-family: "Space Grotesk", "PingFang SC", sans-serif;
    }

    .primary-btn:disabled {
      opacity: 0.5;
      cursor: not-allowed;
    }

    .status-pill {
      font-size: 12px;
      font-weight: 700;
      padding: 6px 12px;
      border-radius: 999px;
      border: 1px solid var(--line);
      color: var(--muted);
    }

    .status-pill.ready {
      border-color: #0b0b0c;
      color: #0b0b0c;
    }

    .pipeline {
      font-size: 12px;
      color: var(--muted);
      display: flex;
      flex-wrap: wrap;
      gap: 8px;
    }

    .pipeline span {
      border: 1px solid var(--line);
      padding: 4px 8px;
      border-radius: 999px;
    }

    .summary-panel {
      border: 1px solid var(--line);
      border-radius: 16px;
      padding: 18px;
      background: #fdfdfc;
      display: none;
    }

    .summary-panel.active {
      display: block;
    }

    .summary-panel h3 {
      font-family: "Space Grotesk", "PingFang SC", sans-serif;
      font-size: 18px;
      margin-bottom: 8px;
    }

    .summary-panel p {
      font-size: 14px;
      color: var(--muted);
      line-height: 1.7;
      margin-bottom: 8px;
    }

    .language-stack {
      display: flex;
      flex-direction: column;
      gap: 16px;
    }

    .lang-card {
      border: 1px solid var(--line);
      border-radius: 16px;
      padding: 18px;
      background: #fff;
      display: flex;
      flex-direction: column;
      gap: 16px;
    }

    .lang-head {
      display: flex;
      justify-content: space-between;
      align-items: center;
      gap: 12px;
    }

    .lang-title {
      display: flex;
      align-items: center;
      gap: 8px;
      font-weight: 700;
      font-family: "Space Grotesk", "PingFang SC", sans-serif;
    }

    .tag {
      font-size: 11px;
      font-weight: 700;
      border: 1px solid var(--line);
      padding: 4px 8px;
      border-radius: 999px;
      color: var(--muted);
      text-transform: uppercase;
      letter-spacing: 0.08em;
    }

    .video-grid {
      display: grid;
      gap: 16px;
      grid-template-columns: repeat(auto-fit, minmax(260px, 1fr));
    }

    .video-block {
      border: 1px solid var(--line);
      border-radius: 14px;
      padding: 14px;
      display: flex;
      flex-direction: column;
      gap: 12px;
    }

    .video-meta {
      font-size: 12px;
      color: var(--muted);
      line-height: 1.5;
    }

    .comment-list {
      display: flex;
      flex-direction: column;
      gap: 10px;
    }

    .comment {
      border-top: 1px dashed var(--line);
      padding-top: 10px;
      display: grid;
      gap: 6px;
    }

    .comment:first-child {
      border-top: none;
      padding-top: 0;
    }

    .comment .original {
      font-size: 13px;
      font-weight: 600;
      line-height: 1.6;
    }

    .comment .translated {
      font-size: 12px;
      color: var(--muted);
      line-height: 1.6;
    }

    .comment .likes {
      font-size: 11px;
      color: var(--muted);
      font-family: "Space Grotesk", "PingFang SC", sans-serif;
    }

    .news-grid {
      display: grid;
      gap: 16px;
      grid-template-columns: repeat(auto-fit, minmax(260px, 1fr));
    }

    .news-card {
      border: 1px solid var(--line);
      border-radius: 16px;
      padding: 16px;
      background: #fff;
      display: flex;
      flex-direction: column;
      gap: 12px;
    }

    .news-summary {
      font-size: 13px;
      color: var(--muted);
      line-height: 1.6;
    }

    .news-summary strong {
      color: var(--ink);
    }

    .divider {
      height: 1px;
      background: var(--line);
    }

    .error-box {
      background: rgba(0, 0, 0, 0.04);
      color: #8a2d2d;
      border: 1px solid rgba(0, 0, 0, 0.08);
      padding: 12px;
      border-radius: 12px;
      font-size: 13px;
    }

    .skeleton {
      background: linear-gradient(90deg, #f2f2f2, #e5e5e5, #f2f2f2);
      background-size: 200% 100%;
      animation: shimmer 1.6s infinite;
      border-radius: 8px;
      height: 12px;
    }

    .skeleton-block {
      height: 140px;
    }

    .footnote {
      font-size: 12px;
      color: var(--muted);
      text-align: center;
      margin-top: 24px;
    }

    @keyframes shimmer {
      0% {
        background-position: -200% 0;
      }
      100% {
        background-position: 200% 0;
      }
    }

    @keyframes fadeIn {
      from {
        opacity: 0;
        transform: translateY(8px);
      }
      to {
        opacity: 1;
        transform: translateY(0);
      }
    }

    @media (max-width: 720px) {
      .search-box {
        grid-template-columns: 1fr;
        border-radius: 20px;
        padding: 12px;
      }

      .search-box button {
        width: 100%;
      }

      .module {
        padding: 20px;
      }

      .results-header {
        flex-direction: column;
        align-items: flex-start;
      }
    }
  </style>
</head>
<body>
  <div id="app">
    <section class="hero" id="home">
      <div class="brand">Global Perspective Engine</div>
      <h1>å•ä¸€è¾“å…¥ï¼Œå…¨çƒå™äº‹å¯¹ç…§ã€‚</h1>
      <p>
        è¾“å…¥äº‹ä»¶å…³é”®è¯ï¼Œç³»ç»Ÿå¹¶è¡ŒæŠ“å–å¤šè¯­è¨€ YouTube è¯„è®ºä¸æ–°é—»æŠ¥é“ï¼Œè‡ªåŠ¨ç¿»è¯‘æˆä¸­æ–‡å¹¶ç”Ÿæˆæ€»ç»“ã€‚
        ä¸€æ¬¡è¾“å…¥ï¼Œè·å¾—å¤šå›½è§‚ç‚¹çš„æ¸…æ™°å¯¹æ¯”ã€‚
      </p>
      <div class="search-box">
        <input id="searchInput" type="text" placeholder="ä¾‹å¦‚ï¼šçº¢æµ·èˆªè¿å±æœº" value="çº¢æµ·èˆªè¿å±æœº" />
        <button id="searchBtn">å¼€å§‹å¯¹æ¯”</button>
      </div>
      <div class="assist">
        <span>ä¸­æ–‡</span>
        <span>English</span>
        <span>æ—¥æœ¬èª</span>
        <span>Deutsch</span>
        <span>FranÃ§ais</span>
        <span>EspaÃ±ol</span>
        <span>PortuguÃªs</span>
      </div>
    </section>

    <section class="results" id="results">
      <div class="results-header">
        <div class="query-card">äº‹ä»¶å…³é”®è¯ï¼š<span id="queryText">-</span></div>
        <button class="ghost-btn" id="resetBtn">é‡æ–°æœç´¢</button>
      </div>

      <div class="module" id="videoModule">
        <div class="module-header">
          <div class="module-title">
            <h2>å¤šè¯­è¨€è§†é¢‘è¯„è®ºåˆ†æ</h2>
            <span class="status-pill" id="videoStatus">ç­‰å¾…æ£€ç´¢</span>
          </div>
          <p>æ¯ç§è¯­è¨€é€‰å–æ’­æ”¾é‡é«˜ã€æœ€æ–°ã€ç›¸å…³åº¦é«˜çš„å‰ 2 ä¸ªè§†é¢‘ï¼ŒæŠ“å–ç‚¹èµæœ€å¤šçš„ 20 æ¡è¯„è®ºå¹¶ç¿»è¯‘æˆä¸­æ–‡ã€‚</p>
          <div class="module-actions">
            <button class="primary-btn" id="videoSummaryBtn" data-module="video" disabled>é‡æ–°ç”Ÿæˆæ€»ç»“</button>
            <div class="pipeline">
              <span>å¤šè¯­è¨€æ£€ç´¢</span>
              <span>åŒè§†é¢‘æ‹©ä¼˜</span>
              <span>é«˜èµè¯„è®º</span>
              <span>ä¸­æ–‡ç¿»è¯‘</span>
            </div>
          </div>
        </div>
        <div class="summary-panel" id="videoSummary"></div>
        <div class="language-stack" id="videoCards"></div>
      </div>

      <div class="module" id="newsModule">
        <div class="module-header">
          <div class="module-title">
            <h2>å¤šè¯­è¨€æ–°é—»æŠ¥é“åˆ†æ</h2>
            <span class="status-pill" id="newsStatus">ç­‰å¾…æ£€ç´¢</span>
          </div>
          <p>ä»å¤šæ¥æºæ–°é—»èšåˆä¸­ç­›é€‰å¯è®¿é—®æŠ¥é“ï¼Œæå–æ­£æ–‡ç”Ÿæˆä¸­ç­‰é•¿åº¦æ‘˜è¦ï¼Œå¹¶æä¾›ä¸­æ–‡ç¿»è¯‘ã€‚</p>
          <div class="module-actions">
            <button class="primary-btn" id="newsSummaryBtn" data-module="news" disabled>é‡æ–°ç”Ÿæˆæ€»ç»“</button>
            <div class="pipeline">
              <span>å¤šæºæ£€ç´¢</span>
              <span>ä»˜è´¹è¿‡æ»¤</span>
              <span>æ­£æ–‡æŠ½å–</span>
              <span>æ‘˜è¦ç”Ÿæˆ</span>
            </div>
          </div>
        </div>
        <div class="summary-panel" id="newsSummary"></div>
        <div class="news-grid" id="newsCards"></div>
      </div>

      <div class="footnote">è‡ªåŠ¨åŒ–æµç¨‹å¯æ‰©å±•æ›´å¤šè¯­è¨€ä¸å¹³å°ï¼Œé€‚ç”¨äºå•†ä¸šçº§å…¨çƒèˆ†æƒ…è§‚å¯Ÿã€‚</div>
    </section>
  </div>

  <script>
    const state = {
      query: "",
      videoItems: [],
      newsItems: [],
    };

    const homeEl = document.getElementById("home");
    const resultsEl = document.getElementById("results");
    const queryTextEl = document.getElementById("queryText");
    const searchInput = document.getElementById("searchInput");
    const videoStatusEl = document.getElementById("videoStatus");
    const newsStatusEl = document.getElementById("newsStatus");
    const videoCardsEl = document.getElementById("videoCards");
    const newsCardsEl = document.getElementById("newsCards");
    const videoSummaryBtn = document.getElementById("videoSummaryBtn");
    const newsSummaryBtn = document.getElementById("newsSummaryBtn");
    const videoSummaryEl = document.getElementById("videoSummary");
    const newsSummaryEl = document.getElementById("newsSummary");

    function renderSkeleton(targetEl, count) {
      targetEl.innerHTML = Array.from({ length: count })
        .map(
          () => `
          <div class="lang-card">
            <div class="skeleton" style="width: 120px;"></div>
            <div class="skeleton" style="width: 80%;"></div>
            <div class="skeleton" style="width: 60%;"></div>
            <div class="skeleton skeleton-block"></div>
          </div>
        `
        )
        .join("");
    }

    function renderNewsSkeleton(targetEl, count) {
      targetEl.innerHTML = Array.from({ length: count })
        .map(
          () => `
          <div class="news-card">
            <div class="skeleton" style="width: 90px;"></div>
            <div class="skeleton" style="width: 70%;"></div>
            <div class="skeleton" style="width: 85%;"></div>
            <div class="skeleton skeleton-block"></div>
          </div>
        `
        )
        .join("");
    }

    function setStatus(el, text, ready) {
      el.textContent = text;
      el.classList.toggle("ready", !!ready);
    }

    function formatCount(value) {
      const num = Number(value || 0);
      if (num >= 1_000_000) {
        return (num / 1_000_000).toFixed(1) + "M";
      }
      if (num >= 1_000) {
        return (num / 1_000).toFixed(1) + "K";
      }
      return String(num);
    }

    function formatDate(value) {
      if (!value) return "-";
      try {
        return new Date(value).toISOString().slice(0, 10);
      } catch (error) {
        return "-";
      }
    }

    function renderVideoCards(items) {
      videoCardsEl.innerHTML = items
        .map((item) => {
          if (item.error) {
            const message = formatVideoError(item.error);
            return `
              <div class="lang-card">
                <div class="lang-head">
                  <div class="lang-title"><span>${item.emoji}</span>${item.label}</div>
                  <span class="tag">YouTube</span>
                </div>
                <div class="error-box">${message}</div>
              </div>
            `;
          }

          const videos = item.videos || [];
          const videoBlocks = videos
            .map((video, index) => {
              const comments = video.comments || [];
              return `
                <div class="video-block">
                  <div class="video-meta">è§†é¢‘ ${index + 1} Â· ${video.title || "-"}</div>
                  <div class="video-meta">é¢‘é“ï¼š${video.channel || "-"}</div>
                  <div class="video-meta">æ’­æ”¾é‡ï¼š${formatCount(video.viewCount)} Â· å‘å¸ƒæ—¶é—´ï¼š${formatDate(video.publishedAt)}</div>
                  <div class="comment-list">
                    ${comments
                      .map(
                        (comment) => `
                        <div class="comment">
                          <div class="original">${comment.original || ""}</div>
                          <div class="translated">${comment.translated || ""}</div>
                          <div class="likes">ğŸ‘ ${formatCount(comment.likeCount)}</div>
                        </div>
                      `
                      )
                      .join("")}
                  </div>
                </div>
              `;
            })
            .join("");

          return `
            <div class="lang-card">
              <div class="lang-head">
                <div class="lang-title"><span>${item.emoji}</span>${item.label}</div>
                <span class="tag">YouTube</span>
              </div>
              <div class="video-grid">${videoBlocks}</div>
            </div>
          `;
        })
        .join("");
    }

    function renderNewsCards(items) {
      newsCardsEl.innerHTML = items
        .map((item) => {
          if (item.error) {
            const message = formatNewsError(item.error);
            return `
              <div class="news-card">
                <div class="lang-head">
                  <div class="lang-title"><span>${item.emoji}</span>${item.label}</div>
                  <span class="tag">News</span>
                </div>
                <div class="error-box">${message}</div>
              </div>
            `;
          }
          return `
            <div class="news-card">
              <div class="lang-head">
                <div class="lang-title"><span>${item.emoji}</span>${item.label}</div>
                <span class="tag">News</span>
              </div>
              <div class="video-meta">æ¥æºï¼š${item.article?.source || "-"}</div>
              <div class="video-meta">æ ‡é¢˜ï¼š${item.article?.title || "-"}</div>
              <div class="divider"></div>
              <div class="news-summary"><strong>æ‘˜è¦ï¼š</strong>${item.summary || ""}</div>
              <div class="news-summary"><strong>ä¸­æ–‡è¯‘æ–‡ï¼š</strong>${item.summaryZh || ""}</div>
            </div>
          `;
        })
        .join("");
    }

    function showSummary(panel, title, content) {
      panel.innerHTML = `
        <h3>${title}</h3>
        ${content
          .split("\n")
          .filter((line) => line.trim())
          .map((line) => `<p>${line}</p>`)
          .join("")}
      `;
      panel.classList.add("active");
    }

    async function startSearch() {
      const query = searchInput.value.trim();
      if (!query) {
        searchInput.focus();
        return;
      }

      state.query = query;
      state.videoItems = [];
      state.newsItems = [];

      queryTextEl.textContent = query;
      homeEl.style.display = "none";
      resultsEl.classList.add("active");

      renderSkeleton(videoCardsEl, 7);
      renderNewsSkeleton(newsCardsEl, 7);

      setStatus(videoStatusEl, "æ­£åœ¨æŠ“å–è¯„è®º", false);
      setStatus(newsStatusEl, "æ­£åœ¨æŠ“å–æ–°é—»", false);
      videoSummaryBtn.disabled = true;
      newsSummaryBtn.disabled = true;
      videoSummaryEl.classList.remove("active");
      newsSummaryEl.classList.remove("active");
      videoSummaryEl.innerHTML = "";
      newsSummaryEl.innerHTML = "";

      fetchModule("/api/video", query, (items, summary) => {
        state.videoItems = items;
        renderVideoCards(items);
        setStatus(videoStatusEl, "è¯„è®ºå·²å°±ç»ª", true);
        videoSummaryBtn.disabled = false;
        if (summary) {
          showSummary(videoSummaryEl, "AI æ€»ç»“", summary);
        }
      }, () => {
        setStatus(videoStatusEl, "æŠ“å–å¤±è´¥", false);
      });

      fetchModule("/api/news", query, (items, summary) => {
        state.newsItems = items;
        renderNewsCards(items);
        setStatus(newsStatusEl, "æ–°é—»å·²å°±ç»ª", true);
        newsSummaryBtn.disabled = false;
        if (summary) {
          showSummary(newsSummaryEl, "AI æ€»ç»“", summary);
        }
      }, () => {
        setStatus(newsStatusEl, "æŠ“å–å¤±è´¥", false);
      });
    }

    async function fetchModule(endpoint, query, onSuccess, onError) {
      try {
        const response = await fetch(endpoint, {
          method: "POST",
          headers: { "Content-Type": "application/json" },
          body: JSON.stringify({ query }),
        });
        if (!response.ok) {
          throw new Error("Request failed");
        }
        const data = await response.json();
        onSuccess(data.items || [], data.summary || "");
      } catch (error) {
        onError(error);
      }
    }

    async function handleSummary(type) {
      if (type === "video" && !state.videoItems.length) {
        return;
      }
      if (type === "news" && !state.newsItems.length) {
        return;
      }

      const panel = type === "video" ? videoSummaryEl : newsSummaryEl;
      panel.classList.add("active");
      panel.innerHTML = "<p>AI æ­£åœ¨é‡æ–°ç”Ÿæˆæ€»ç»“...</p>";

      const endpoint = type === "video" ? "/api/summary/comments" : "/api/summary/news";
      const items = type === "video" ? state.videoItems : state.newsItems;

      try {
        const response = await fetch(endpoint, {
          method: "POST",
          headers: { "Content-Type": "application/json" },
          body: JSON.stringify({ query: state.query, items }),
        });
        if (!response.ok) {
          throw new Error("Summary failed");
        }
        const data = await response.json();
        showSummary(panel, "AI æ€»ç»“", data.summary || "æš‚æ— ç»“æœ");
      } catch (error) {
        panel.innerHTML = "<p>AI æ€»ç»“ç”Ÿæˆå¤±è´¥ï¼Œè¯·ç¨åé‡è¯•ã€‚</p>";
      }
    }

    function resetSearch() {
      resultsEl.classList.remove("active");
      homeEl.style.display = "grid";
      searchInput.focus();
    }

    function formatVideoError(error) {
      if (!error) return "è§†é¢‘è·å–å¤±è´¥";
      if (error.includes("YouTube API")) {
        return "æœªé…ç½® YouTube API Keyï¼Œæ— æ³•è·å–è¯„è®º";
      }
      if (error.includes("Invidious") || error.includes("403")) {
        return "å…¬å…±æ¥å£è¢«æ‹’ç»è®¿é—®ï¼Œè¯·ç¨åé‡è¯•";
      }
      return "è§†é¢‘è·å–å¤±è´¥";
    }

    function formatNewsError(error) {
      if (!error) return "æ–°é—»è·å–å¤±è´¥";
      if (error.includes("æœªæ‰¾åˆ°æ–°é—»ç»“æœ")) {
        return "æš‚æ—¶æœªæ‰¾åˆ°ç›¸å…³æ–°é—»";
      }
      if (error.includes("æœªæ‰¾åˆ°å¯å…è´¹è®¿é—®")) {
        return "é¡µé¢å¯èƒ½ä¸ºä»˜è´¹å†…å®¹ï¼Œå·²è‡ªåŠ¨è·³è¿‡";
      }
      return "æ–°é—»è·å–å¤±è´¥";
    }

    document.getElementById("searchBtn").addEventListener("click", startSearch);
    document.getElementById("resetBtn").addEventListener("click", resetSearch);
    videoSummaryBtn.addEventListener("click", () => handleSummary("video"));
    newsSummaryBtn.addEventListener("click", () => handleSummary("news"));

    searchInput.addEventListener("keydown", (event) => {
      if (event.key === "Enter") {
        startSearch();
      }
    });
  </script>
</body>
</html>
