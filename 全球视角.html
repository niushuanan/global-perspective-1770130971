<!DOCTYPE html>
<html lang="zh-CN">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>å…¨çƒè§†è§’ | è·¨è¯­è¨€è§‚ç‚¹å¯¹æ¯”</title>
  <link rel="preconnect" href="https://fonts.googleapis.com" />
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
  <link
    href="https://fonts.googleapis.com/css2?family=Manrope:wght@400;500;600;700;800&family=Noto+Sans+SC:wght@400;500;700&family=Zilla+Slab:wght@500;600;700&display=swap"
    rel="stylesheet"
  />
  <style>
    :root {
      --ink: #10131a;
      --muted: #5b6270;
      --paper: #f6f4ef;
      --paper-strong: #ffffff;
      --line: #e3e2dd;
      --accent: #0b4f6c;
      --accent-2: #f2a04a;
      --shadow: 0 16px 36px rgba(12, 22, 35, 0.08);
      --radius: 18px;
    }

    * {
      box-sizing: border-box;
      margin: 0;
      padding: 0;
    }

    body {
      font-family: "Manrope", "Noto Sans SC", "PingFang SC", "Microsoft Yahei", sans-serif;
      color: var(--ink);
      background: radial-gradient(circle at top left, #eef2f5 0%, transparent 45%),
        radial-gradient(circle at 80% 20%, #fff2df 0%, transparent 40%),
        var(--paper);
      min-height: 100vh;
    }

    body::before {
      content: "";
      position: fixed;
      inset: 0;
      background-image: linear-gradient(transparent 23px, rgba(16, 19, 26, 0.04) 24px),
        linear-gradient(90deg, transparent 23px, rgba(16, 19, 26, 0.04) 24px);
      background-size: 24px 24px;
      pointer-events: none;
      opacity: 0.35;
      z-index: 0;
    }

    #app {
      position: relative;
      z-index: 1;
      max-width: 1200px;
      margin: 0 auto;
      padding: 64px 24px 96px;
      display: flex;
      flex-direction: column;
      gap: 48px;
    }

    .brand {
      display: flex;
      align-items: center;
      gap: 14px;
      font-weight: 800;
      letter-spacing: 0.12em;
      text-transform: uppercase;
      font-size: 12px;
      color: var(--muted);
    }

    .brand .dot {
      width: 12px;
      height: 12px;
      border-radius: 999px;
      background: linear-gradient(135deg, var(--accent), var(--accent-2));
      box-shadow: 0 0 0 6px rgba(11, 79, 108, 0.1);
    }

    .home {
      min-height: 70vh;
      display: flex;
      flex-direction: column;
      justify-content: center;
      gap: 32px;
      animation: fadeUp 0.8s ease;
    }

    .home h1 {
      font-family: "Zilla Slab", "Noto Sans SC", serif;
      font-size: clamp(32px, 5vw, 52px);
      line-height: 1.1;
      letter-spacing: -0.02em;
    }

    .home p {
      max-width: 640px;
      font-size: 16px;
      color: var(--muted);
      line-height: 1.7;
    }

    .search-box {
      display: grid;
      grid-template-columns: 1fr auto;
      gap: 12px;
      background: var(--paper-strong);
      border: 1px solid var(--line);
      border-radius: 999px;
      padding: 8px;
      box-shadow: var(--shadow);
    }

    .search-box input {
      border: none;
      outline: none;
      background: transparent;
      padding: 14px 20px;
      font-size: 16px;
      font-weight: 600;
      color: var(--ink);
    }

    .search-box button {
      border: none;
      background: var(--accent);
      color: #fff;
      font-weight: 700;
      padding: 12px 24px;
      border-radius: 999px;
      cursor: pointer;
      transition: transform 0.2s ease, box-shadow 0.2s ease;
      box-shadow: 0 12px 22px rgba(11, 79, 108, 0.2);
    }

    .search-box button:hover {
      transform: translateY(-1px);
    }

    .assist {
      font-size: 13px;
      color: var(--muted);
      display: flex;
      flex-wrap: wrap;
      gap: 12px;
      align-items: center;
    }

    .assist span {
      background: rgba(11, 79, 108, 0.08);
      color: var(--accent);
      padding: 6px 10px;
      border-radius: 999px;
      font-weight: 600;
    }

    .results {
      display: none;
      flex-direction: column;
      gap: 32px;
      animation: fadeUp 0.6s ease;
    }

    .results.active {
      display: flex;
    }

    .results-header {
      display: flex;
      justify-content: space-between;
      align-items: center;
      gap: 16px;
      flex-wrap: wrap;
    }

    .query-card {
      background: var(--paper-strong);
      border: 1px solid var(--line);
      padding: 16px 20px;
      border-radius: 14px;
      font-weight: 600;
      box-shadow: var(--shadow);
    }

    .ghost-btn {
      border: 1px solid var(--line);
      background: transparent;
      padding: 10px 18px;
      border-radius: 999px;
      font-weight: 600;
      cursor: pointer;
      color: var(--muted);
      transition: border 0.2s ease, color 0.2s ease;
    }

    .ghost-btn:hover {
      border-color: var(--accent);
      color: var(--accent);
    }

    .module {
      background: var(--paper-strong);
      border: 1px solid var(--line);
      border-radius: var(--radius);
      padding: 28px;
      box-shadow: var(--shadow);
      display: flex;
      flex-direction: column;
      gap: 20px;
    }

    .module-header {
      display: flex;
      flex-direction: column;
      gap: 10px;
    }

    .module-title {
      display: flex;
      flex-wrap: wrap;
      align-items: center;
      gap: 12px;
    }

    .module-title h2 {
      font-family: "Zilla Slab", "Noto Sans SC", serif;
      font-size: 28px;
    }

    .module-title p {
      color: var(--muted);
      font-size: 14px;
    }

    .module-actions {
      display: flex;
      flex-wrap: wrap;
      gap: 12px;
      align-items: center;
    }

    .ai-btn {
      border: none;
      background: var(--accent);
      color: #fff;
      font-weight: 700;
      padding: 10px 18px;
      border-radius: 999px;
      cursor: pointer;
      transition: transform 0.2s ease, box-shadow 0.2s ease;
    }

    .ai-btn:disabled {
      opacity: 0.5;
      cursor: not-allowed;
      box-shadow: none;
    }

    .status-pill {
      font-size: 12px;
      font-weight: 700;
      padding: 6px 12px;
      border-radius: 999px;
      background: rgba(242, 160, 74, 0.18);
      color: #a55a0e;
    }

    .status-pill.ready {
      background: rgba(11, 79, 108, 0.14);
      color: var(--accent);
    }

    .pipeline {
      font-size: 12px;
      color: var(--muted);
      display: flex;
      flex-wrap: wrap;
      gap: 8px;
    }

    .pipeline span {
      background: #f3f5f7;
      padding: 4px 8px;
      border-radius: 999px;
    }

    .summary-panel {
      border: 1px dashed var(--line);
      border-radius: 16px;
      padding: 18px;
      background: #fafaf9;
      display: none;
      animation: fadeUp 0.4s ease;
    }

    .summary-panel.active {
      display: block;
    }

    .summary-panel h3 {
      font-size: 18px;
      margin-bottom: 8px;
      font-family: "Zilla Slab", "Noto Sans SC", serif;
    }

    .summary-panel p {
      font-size: 14px;
      color: var(--muted);
      line-height: 1.6;
      margin-bottom: 6px;
    }

    .cards {
      display: grid;
      gap: 16px;
      grid-template-columns: repeat(auto-fit, minmax(240px, 1fr));
    }

    .card {
      border: 1px solid var(--line);
      border-radius: 16px;
      padding: 16px;
      background: #fff;
      display: flex;
      flex-direction: column;
      gap: 12px;
      min-height: 260px;
      animation: fadeUp 0.5s ease;
    }

    .card-header {
      display: flex;
      align-items: center;
      justify-content: space-between;
      gap: 12px;
    }

    .lang-title {
      display: flex;
      align-items: center;
      gap: 8px;
      font-weight: 700;
    }

    .badge {
      font-size: 11px;
      font-weight: 700;
      color: var(--accent);
      background: rgba(11, 79, 108, 0.08);
      padding: 4px 8px;
      border-radius: 999px;
    }

    .meta {
      font-size: 12px;
      color: var(--muted);
    }

    .comment {
      border-top: 1px dashed var(--line);
      padding-top: 10px;
      display: flex;
      flex-direction: column;
      gap: 6px;
    }

    .comment:first-of-type {
      border-top: none;
      padding-top: 0;
    }

    .comment .original {
      font-size: 13px;
      line-height: 1.5;
      font-weight: 600;
      color: var(--ink);
    }

    .comment .translated {
      font-size: 12px;
      line-height: 1.6;
      color: var(--muted);
    }

    .skeleton {
      background: linear-gradient(90deg, #f3f4f6, #e9edf1, #f3f4f6);
      background-size: 200% 100%;
      animation: shimmer 1.6s infinite;
      border-radius: 12px;
      height: 14px;
    }

    .skeleton-block {
      height: 160px;
    }

    .news-summary {
      font-size: 13px;
      line-height: 1.6;
      color: var(--muted);
    }

    .news-summary strong {
      color: var(--ink);
    }

    .divider {
      height: 1px;
      background: var(--line);
    }

    .footnote {
      font-size: 12px;
      color: var(--muted);
      text-align: center;
      margin-top: 24px;
    }

    @keyframes shimmer {
      0% {
        background-position: -200% 0;
      }
      100% {
        background-position: 200% 0;
      }
    }

    @keyframes fadeUp {
      from {
        opacity: 0;
        transform: translateY(14px);
      }
      to {
        opacity: 1;
        transform: translateY(0);
      }
    }

    @media (max-width: 720px) {
      .search-box {
        grid-template-columns: 1fr;
        border-radius: 20px;
        padding: 12px;
      }

      .search-box button {
        width: 100%;
      }

      .results-header {
        flex-direction: column;
        align-items: flex-start;
      }

      .module {
        padding: 20px;
      }
    }
  </style>
</head>
<body>
  <div id="app">
    <section class="home" id="home">
      <div class="brand">
        <span class="dot"></span>
        Global Perspective Engine
      </div>
      <h1>ä¸€ä¸ªè¾“å…¥ï¼Œè‡ªåŠ¨å¯¹æ¯”å…¨çƒå™äº‹ã€‚</h1>
      <p>
        è¾“å…¥äº‹ä»¶å…³é”®è¯ï¼Œç³»ç»Ÿå¹¶è¡ŒæŠ“å–å¤šè¯­è¨€ YouTube è¯„è®ºä¸æ–°é—»æŠ¥é“ï¼Œè‡ªåŠ¨ç¿»è¯‘æˆä¸­æ–‡å¹¶ç”Ÿæˆæ€»ç»“ï¼Œå¸®åŠ©æ™®é€šç”¨æˆ·å¿«é€Ÿç†è§£ä¸–ç•Œå„åœ°å¯¹åŒä¸€äº‹ä»¶çš„çœ‹æ³•ã€‚
      </p>
      <div class="search-box">
        <input id="searchInput" type="text" placeholder="ä¾‹å¦‚ï¼šçº¢æµ·èˆªè¿å±æœº" value="çº¢æµ·èˆªè¿å±æœº" />
        <button id="searchBtn">å¼€å§‹å¯¹æ¯”</button>
      </div>
      <div class="assist">
        <span>å¤šè¯­è¨€è¦†ç›–</span>
        ä¸­æ–‡ Â· è‹±æ–‡ Â· æ—¥æ–‡ Â· å¾·è¯­ Â· æ³•è¯­ Â· è¥¿ç­ç‰™è¯­ Â· è‘¡è„ç‰™è¯­
      </div>
    </section>

    <section class="results" id="results">
      <div class="results-header">
        <div class="query-card">äº‹ä»¶å…³é”®è¯ï¼š<span id="queryText">-</span></div>
        <button class="ghost-btn" id="resetBtn">é‡æ–°æœç´¢</button>
      </div>

      <div class="module" id="videoModule">
        <div class="module-header">
          <div class="module-title">
            <h2>å¤šè¯­è¨€è§†é¢‘è¯„è®ºåˆ†æ</h2>
            <span class="status-pill" id="videoStatus">ç­‰å¾…æ£€ç´¢</span>
          </div>
          <p>ç³»ç»Ÿè‡ªåŠ¨ä» YouTube å„è¯­è¨€ç¯å¢ƒä¸­é€‰æ‹©é¦–æ¡è§†é¢‘ï¼ŒæŠ“å–å‰äº”æ¡è¯„è®ºå¹¶ç¿»è¯‘æˆä¸­æ–‡ã€‚</p>
          <div class="module-actions">
            <button class="ai-btn" id="videoSummaryBtn" data-module="video" disabled>AI æ€»ç»“</button>
            <div class="pipeline">
              <span>å¤šè¯­è¨€æ£€ç´¢</span>
              <span>é¦–æ¡è§†é¢‘</span>
              <span>è¯„è®ºæŠ“å–</span>
              <span>ä¸­æ–‡ç¿»è¯‘</span>
            </div>
          </div>
        </div>
        <div class="summary-panel" id="videoSummary"></div>
        <div class="cards" id="videoCards"></div>
      </div>

      <div class="module" id="newsModule">
        <div class="module-header">
          <div class="module-title">
            <h2>å¤šè¯­è¨€æ–°é—»æŠ¥é“åˆ†æ</h2>
            <span class="status-pill" id="newsStatus">ç­‰å¾…æ£€ç´¢</span>
          </div>
          <p>ç³»ç»Ÿè‡ªåŠ¨ä» Google æœç´¢ä¸­ç­›é€‰å¯å…è´¹é˜…è¯»çš„æ–°é—»é¡µé¢ï¼Œæå–æ­£æ–‡åç”Ÿæˆä¸­ç­‰é•¿åº¦æ‘˜è¦ä¸ä¸­æ–‡ç¿»è¯‘ã€‚</p>
          <div class="module-actions">
            <button class="ai-btn" id="newsSummaryBtn" data-module="news" disabled>AI æ€»ç»“</button>
            <div class="pipeline">
              <span>å¤šè¯­è¨€æ£€ç´¢</span>
              <span>å¹¿å‘Š/ä»˜è´¹è¿‡æ»¤</span>
              <span>æ­£æ–‡æŠ“å–</span>
              <span>æ‘˜è¦ç”Ÿæˆ</span>
            </div>
          </div>
        </div>
        <div class="summary-panel" id="newsSummary"></div>
        <div class="cards" id="newsCards"></div>
      </div>

      <div class="footnote">æ‰€æœ‰ç»“æœå‡ä¸ºè‡ªåŠ¨åŒ–æµç¨‹å±•ç¤ºï¼Œå¯æ‰©å±•è‡³æ›´å¤šè¯­è¨€ä¸å¹³å°ã€‚</div>
    </section>
  </div>

  <script>
    const LANGS = [
      {
        key: "zh",
        label: "ä¸­æ–‡",
        emoji: "ğŸ‡¨ğŸ‡³",
        videoTitle: "{q}å¯¹å…¨çƒèˆªè¿çš„å½±å“æŒç»­æ‰©å¤§",
        videoChannel: "å¤®è§†å›½é™…è§†è§’",
        comments: [
          {
            original: "{q}çš„æ ¹æºè¿˜æ˜¯åŒºåŸŸå†²çªå¤–æº¢ï¼Œå•é æŠ¤èˆªè§£å†³ä¸äº†ã€‚",
            zh: "{q}çš„æ ¹æºè¿˜æ˜¯åŒºåŸŸå†²çªå¤–æº¢ï¼Œå•é æŠ¤èˆªè§£å†³ä¸äº†ã€‚"
          },
          {
            original: "èˆªè¿ä¼ä¸šçš„å‹åŠ›ä¼šä¼ å¯¼åˆ°å›½å†…åˆ¶é€ ä¸šå’Œå¤–è´¸ã€‚",
            zh: "èˆªè¿ä¼ä¸šçš„å‹åŠ›ä¼šä¼ å¯¼åˆ°å›½å†…åˆ¶é€ ä¸šå’Œå¤–è´¸ã€‚"
          },
          {
            original: "å¦‚æœèƒ½å¤Ÿå»ºç«‹å¤šè¾¹æŠ¤èˆªæœºåˆ¶ï¼Œå¯¹ç¨³å®šé¢„æœŸä¼šæ›´æœ‰æ•ˆã€‚",
            zh: "å¦‚æœèƒ½å¤Ÿå»ºç«‹å¤šè¾¹æŠ¤èˆªæœºåˆ¶ï¼Œå¯¹ç¨³å®šé¢„æœŸä¼šæ›´æœ‰æ•ˆã€‚"
          },
          {
            original: "å¸Œæœ›å°½å¿«åœç«ï¼Œä¸ç„¶æ‰€æœ‰äººéƒ½è¦ä¸ºæˆæœ¬ä¹°å•ã€‚",
            zh: "å¸Œæœ›å°½å¿«åœç«ï¼Œä¸ç„¶æ‰€æœ‰äººéƒ½è¦ä¸ºæˆæœ¬ä¹°å•ã€‚"
          },
          {
            original: "{q}ä¹Ÿè®©é™†è·¯é€šé“ä»·å€¼å‡¸æ˜¾ï¼Œå€¼å¾—é•¿æœŸå¸ƒå±€ã€‚",
            zh: "{q}ä¹Ÿè®©é™†è·¯é€šé“ä»·å€¼å‡¸æ˜¾ï¼Œå€¼å¾—é•¿æœŸå¸ƒå±€ã€‚"
          }
        ],
        news: {
          source: "æ–°åç¤¾",
          headline: "{q}å¼•å‘èˆªè¿é“¾è·¯é‡æ„ï¼Œå¤šæ–¹å‘¼åå»ºç«‹æŠ¤èˆªåˆä½œ",
          summary:
            "æŠ¥é“æ¢³ç†äº†äº‹ä»¶å¯¹å…¨çƒèˆªè¿çš„å†²å‡»ï¼ŒæŒ‡å‡ºè¿ä»·ä¸Šæ¶¨ä¸å»¶è¯¯å åŠ å½±å“åˆ¶é€ ä¸šã€‚æ–‡ä¸­å¼ºè°ƒåŒºåŸŸå†²çªæº¢å‡ºæ•ˆåº”ï¼Œå‘¼åé€šè¿‡å¤šè¾¹åå•†ä¸åœç«æœºåˆ¶é™ä½é£é™©ã€‚",
          summaryZh:
            "æŠ¥é“æ¢³ç†äº†äº‹ä»¶å¯¹å…¨çƒèˆªè¿çš„å†²å‡»ï¼ŒæŒ‡å‡ºè¿ä»·ä¸Šæ¶¨ä¸å»¶è¯¯å åŠ å½±å“åˆ¶é€ ä¸šã€‚æ–‡ä¸­å¼ºè°ƒåŒºåŸŸå†²çªæº¢å‡ºæ•ˆåº”ï¼Œå‘¼åé€šè¿‡å¤šè¾¹åå•†ä¸åœç«æœºåˆ¶é™ä½é£é™©ã€‚"
        }
      },
      {
        key: "en",
        label: "English",
        emoji: "ğŸ‡ºğŸ‡¸",
        videoTitle: "{q}: Shipping routes rerouted and costs surge",
        videoChannel: "Global Trade Watch",
        comments: [
          {
            original: "{q} feels like another reminder that global supply chains are fragile.",
            zh: "{q}å†æ¬¡æé†’å…¨çƒä¾›åº”é“¾éå¸¸è„†å¼±ã€‚"
          },
          {
            original: "Consumers will see this in prices within weeks, not months.",
            zh: "æ¶ˆè´¹è€…ä¼šåœ¨å‡ å‘¨å†…çœ‹åˆ°ä»·æ ¼ä¸Šæ¶¨ï¼Œè€Œä¸æ˜¯å‡ ä¸ªæœˆåã€‚"
          },
          {
            original: "Security operations matter, but diplomacy is the only long-term fix.",
            zh: "å®‰å…¨è¡ŒåŠ¨é‡è¦ï¼Œä½†å¤–äº¤æ‰æ˜¯é•¿æœŸè§£å†³æ–¹æ¡ˆã€‚"
          },
          {
            original: "We need more transparency about who pays for the rerouting.",
            zh: "éœ€è¦æ›´é€æ˜åœ°è¯´æ˜æ”¹é“æˆæœ¬ç”±è°æ‰¿æ‹…ã€‚"
          },
          {
            original: "{q} is a wake-up call for resilience planning.",
            zh: "{q}æ˜¯å¯¹ä¾›åº”é“¾éŸ§æ€§è§„åˆ’çš„ä¸€æ¬¡è­¦é†’ã€‚"
          }
        ],
        news: {
          source: "Reuters",
          headline: "{q} drives up freight rates as shippers seek safer routes",
          summary:
            "The report describes how shipping firms are diverting vessels, raising insurance and fuel costs. It highlights the immediate inflation risk for consumer goods and notes policymakers are weighing a mix of naval patrols and diplomatic talks.",
          summaryZh:
            "æŠ¥é“æŒ‡å‡ºèˆªè¿å…¬å¸æ”¹é“å¯¼è‡´ä¿é™©ä¸ç‡ƒæ²¹æˆæœ¬ä¸Šå‡ï¼Œæ¨é«˜è¿ä»·ã€‚æ–‡ç« å¼ºè°ƒæ¶ˆè´¹å“é€šèƒ€é£é™©ï¼Œå¹¶æåˆ°å„å›½æ­£åœ¨æƒè¡¡æµ·å†›æŠ¤èˆªä¸å¤–äº¤è°ˆåˆ¤çš„ç»„åˆæ–¹æ¡ˆã€‚"
        }
      },
      {
        key: "ja",
        label: "æ—¥æœ¬èª",
        emoji: "ğŸ‡¯ğŸ‡µ",
        videoTitle: "{q}ã§ç‰©æµé…å»¶ã€ä¼æ¥­ã¯ä»£æ›¿ãƒ«ãƒ¼ãƒˆã‚’æ¨¡ç´¢",
        videoChannel: "æ—¥çµŒã‚¢ã‚¸ã‚¢è¦–ç‚¹",
        comments: [
          {
            original: "{q}ã®å½±éŸ¿ã§éƒ¨å“èª¿é”ãŒé…ã‚Œãã†ã€‚",
            zh: "{q}çš„å½±å“å¯èƒ½å¯¼è‡´é›¶éƒ¨ä»¶é‡‡è´­å»¶è¿Ÿã€‚"
          },
          {
            original: "æµ·ä¸Šè¼¸é€ã ã‘ã«é ¼ã‚‹ã®ã¯ãƒªã‚¹ã‚¯ãŒé«˜ã„ã€‚",
            zh: "åªä¾èµ–æµ·è¿é£é™©å¤ªé«˜ã€‚"
          },
          {
            original: "æ”¿æ²»çš„ãªå¯¾ç«‹ãŒçµŒæ¸ˆã«ç›´çµã—ã¦ã„ã‚‹ã€‚",
            zh: "æ”¿æ²»å¯¹ç«‹ç›´æ¥å½±å“ç»æµã€‚"
          },
          {
            original: "ä¼æ¥­ã¯åœ¨åº«æˆ¦ç•¥ã‚’è¦‹ç›´ã™ã¹ãã€‚",
            zh: "ä¼ä¸šåº”é‡æ–°å®¡è§†åº“å­˜ç­–ç•¥ã€‚"
          },
          {
            original: "{q}ã¯ä¸­é•·æœŸã®ä¾›çµ¦ç¶²å†ç·¨ã«ã¤ãªãŒã‚‹ã€‚",
            zh: "{q}å¯èƒ½å¼•å‘ä¸­é•¿æœŸçš„ä¾›åº”é“¾é‡ç»„ã€‚"
          }
        ],
        news: {
          source: "NHK",
          headline: "{q}ã§æµ·ä¸Šè¼¸é€æ··ä¹±ã€ä¼æ¥­ãŒèª¿é”è¨ˆç”»ã‚’èª¿æ•´",
          summary:
            "è¨˜äº‹ã¯æµ·é‹ã®æ··ä¹±ãŒè£½é€ æ¥­ã®èª¿é”ã‚¹ã‚±ã‚¸ãƒ¥ãƒ¼ãƒ«ã«å½±éŸ¿ã—ã¦ã„ã‚‹ã¨ä¼ãˆã‚‹ã€‚æ”¿åºœã¯å®‰å…¨ç¢ºä¿ã¨å¤–äº¤çš„åƒãã‹ã‘ã®ä¸¡é¢ã§å¯¾å¿œã‚’æ¤œè¨ã—ã¦ã„ã‚‹ã€‚",
          summaryZh:
            "æŠ¥é“æŒ‡å‡ºæµ·è¿æ··ä¹±å½±å“åˆ¶é€ ä¸šé‡‡è´­è®¡åˆ’ï¼Œæ”¿åºœæ­£åœ¨ä»å®‰å…¨ä¿éšœä¸å¤–äº¤æ²Ÿé€šä¸¤æ–¹é¢è€ƒè™‘åº”å¯¹æ–¹æ¡ˆã€‚"
        }
      },
      {
        key: "de",
        label: "Deutsch",
        emoji: "ğŸ‡©ğŸ‡ª",
        videoTitle: "{q}: Europas Industrie spÃ¼rt die Lieferketten",
        videoChannel: "DW Wirtschaft",
        comments: [
          {
            original: "{q} zeigt, wie verletzlich die europÃ¤ische Industrie ist.",
            zh: "{q}æ˜¾ç¤ºå‡ºæ¬§æ´²å·¥ä¸šçš„è„†å¼±æ€§ã€‚"
          },
          {
            original: "Die Energiepreise reagieren sofort auf diese Krise.",
            zh: "èƒ½æºä»·æ ¼ä¼šç«‹åˆ»å¯¹è¿™åœºå±æœºä½œå‡ºååº”ã€‚"
          },
          {
            original: "Ohne politische LÃ¶sung bleibt nur teures Krisenmanagement.",
            zh: "å¦‚æœæ²¡æœ‰æ”¿æ²»è§£å†³æ–¹æ¡ˆï¼Œåªèƒ½è¿›è¡Œæ˜‚è´µçš„å±æœºç®¡ç†ã€‚"
          },
          {
            original: "Unternehmen mÃ¼ssen ihre Lagerhaltung anpassen.",
            zh: "ä¼ä¸šéœ€è¦è°ƒæ•´åº“å­˜ç®¡ç†ã€‚"
          },
          {
            original: "{q} kÃ¶nnte den Trend zu regionalen Lieferketten beschleunigen.",
            zh: "{q}å¯èƒ½åŠ é€ŸåŒºåŸŸåŒ–ä¾›åº”é“¾è¶‹åŠ¿ã€‚"
          }
        ],
        news: {
          source: "Der Spiegel",
          headline: "{q} belastet Handel und Inflation in Europa",
          summary:
            "Der Bericht analysiert steigende Frachtkosten und ihre Folgen fÃ¼r Verbraucherpreise. Er betont die Rolle europÃ¤ischer Sicherheitsmissionen und die Sorge vor einer langfristigen StÃ¶rung des Welthandels.",
          summaryZh:
            "æŠ¥é“åˆ†æè¿ä»·ä¸Šæ¶¨å¯¹æ¶ˆè´¹ä»·æ ¼çš„å½±å“ï¼Œå¼ºè°ƒæ¬§æ´²å®‰å…¨è¡ŒåŠ¨çš„é‡è¦æ€§ï¼Œå¹¶æ‹…å¿§å…¨çƒè´¸æ˜“é•¿æœŸå—æ‰°ã€‚"
        }
      },
      {
        key: "fr",
        label: "FranÃ§ais",
        emoji: "ğŸ‡«ğŸ‡·",
        videoTitle: "{q} et la sÃ©curitÃ© maritime, quelles rÃ©ponses?",
        videoChannel: "France 24 DÃ©cryptage",
        comments: [
          {
            original: "{q} montre que la sÃ©curitÃ© maritime est un bien public.",
            zh: "{q}è¡¨æ˜æµ·ä¸Šå®‰å…¨æ˜¯ä¸€ç§å…¬å…±äº§å“ã€‚"
          },
          {
            original: "Sans cesse, les coÃ»ts logistiques montent.",
            zh: "ç‰©æµæˆæœ¬æŒç»­ä¸Šå‡ã€‚"
          },
          {
            original: "Il faut Ã©viter une escalade militaire supplÃ©mentaire.",
            zh: "éœ€è¦é¿å…è¿›ä¸€æ­¥çš„å†›äº‹å‡çº§ã€‚"
          },
          {
            original: "Les entreprises europÃ©ennes vont souffrir rapidement.",
            zh: "æ¬§æ´²ä¼ä¸šä¼šå¾ˆå¿«å—åˆ°å†²å‡»ã€‚"
          },
          {
            original: "{q} met en lumiÃ¨re la dÃ©pendance aux routes maritimes.",
            zh: "{q}å‡¸æ˜¾äº†å¯¹æµ·ä¸Šèˆªçº¿çš„ä¾èµ–ã€‚"
          }
        ],
        news: {
          source: "Le Monde",
          headline: "{q} ravive les dÃ©bats sur la sÃ©curitÃ© des routes maritimes",
          summary:
            "L'article souligne l'impact sur les flux commerciaux et les prix de l'Ã©nergie. Il rapporte que les autoritÃ©s europÃ©ennes cherchent une rÃ©ponse coordonnÃ©e, entre prÃ©sence navale et initiatives diplomatiques.",
          summaryZh:
            "æ–‡ç« å¼ºè°ƒå¯¹è´¸æ˜“æµä¸èƒ½æºä»·æ ¼çš„å½±å“ï¼Œå¹¶ç§°æ¬§æ´²æ­£åœ¨å¯»æ±‚æµ·å†›å­˜åœ¨ä¸å¤–äº¤å€¡è®®å¹¶è¡Œçš„åè°ƒå›åº”ã€‚"
        }
      },
      {
        key: "es",
        label: "EspaÃ±ol",
        emoji: "ğŸ‡ªğŸ‡¸",
        videoTitle: "{q}: impacto en el comercio y en los precios",
        videoChannel: "El PaÃ­s EconomÃ­a",
        comments: [
          {
            original: "{q} afecta directamente al coste de vida.",
            zh: "{q}ç›´æ¥å½±å“ç”Ÿæ´»æˆæœ¬ã€‚"
          },
          {
            original: "Las navieras estÃ¡n trasladando el coste a los clientes.",
            zh: "èˆªè¿å…¬å¸æ­£åœ¨æŠŠæˆæœ¬è½¬å«ç»™å®¢æˆ·ã€‚"
          },
          {
            original: "Hace falta un acuerdo polÃ­tico para estabilizar la regiÃ³n.",
            zh: "éœ€è¦æ”¿æ²»åè®®æ¥ç¨³å®šåœ°åŒºã€‚"
          },
          {
            original: "Europa no puede depender de un solo corredor marÃ­timo.",
            zh: "æ¬§æ´²ä¸èƒ½åªä¾èµ–å•ä¸€æµ·ä¸Šé€šé“ã€‚"
          },
          {
            original: "{q} demuestra la fragilidad del comercio global.",
            zh: "{q}æ˜¾ç¤ºå‡ºå…¨çƒè´¸æ˜“çš„è„†å¼±æ€§ã€‚"
          }
        ],
        news: {
          source: "El PaÃ­s",
          headline: "{q} tensiona las cadenas de suministro y acelera la inflaciÃ³n",
          summary:
            "La crÃ³nica explica cÃ³mo el desvÃ­o de buques encarece el transporte y reduce la previsibilidad logÃ­stica. TambiÃ©n recoge las presiones para una soluciÃ³n diplomÃ¡tica que evite mayores disrupciones.",
          summaryZh:
            "æŠ¥é“è¯´æ˜èˆ¹åªæ”¹é“æ¨é«˜è¿è¾“æˆæœ¬å¹¶é™ä½ç‰©æµå¯é¢„æœŸæ€§ï¼ŒåŒæ—¶æåŠå„æ–¹å¯¹å¤–äº¤è§£å†³çš„å‹åŠ›ä»¥é¿å…æ›´å¤§æ‰°åŠ¨ã€‚"
        }
      },
      {
        key: "pt",
        label: "PortuguÃªs",
        emoji: "ğŸ‡§ğŸ‡·",
        videoTitle: "{q}: riscos para o comÃ©rcio e energia",
        videoChannel: "Globo News Panorama",
        comments: [
          {
            original: "{q} pressiona os custos de importaÃ§Ã£o.",
            zh: "{q}æ¨é«˜äº†è¿›å£æˆæœ¬ã€‚"
          },
          {
            original: "As rotas alternativas sÃ£o mais longas e caras.",
            zh: "æ›¿ä»£èˆªçº¿æ›´é•¿ä¹Ÿæ›´æ˜‚è´µã€‚"
          },
          {
            original: "Ã‰ preciso reduzir a tensÃ£o polÃ­tica para evitar novas crises.",
            zh: "éœ€è¦é™ä½æ”¿æ²»ç´§å¼ ä»¥é¿å…æ–°çš„å±æœºã€‚"
          },
          {
            original: "O impacto chega rÃ¡pido aos preÃ§os internos.",
            zh: "å½±å“ä¼šå¾ˆå¿«ä¼ å¯¼åˆ°å›½å†…ä»·æ ¼ã€‚"
          },
          {
            original: "{q} reforÃ§a a necessidade de diversificar logÃ­stica.",
            zh: "{q}å¼ºåŒ–äº†ç‰©æµå¤šå…ƒåŒ–çš„å¿…è¦æ€§ã€‚"
          }
        ],
        news: {
          source: "Folha de S.Paulo",
          headline: "{q} eleva custos do frete e preocupa indÃºstrias",
          summary:
            "O texto relata aumento de prazos e custos no transporte, com reflexo nos preÃ§os de bens importados. Especialistas apontam que a soluÃ§Ã£o passa por coordenaÃ§Ã£o internacional e reduÃ§Ã£o das tensÃµes regionais.",
          summaryZh:
            "æŠ¥é“æåˆ°è¿è¾“æ—¶æ•ˆä¸æˆæœ¬ä¸Šå‡ï¼Œå½±å“è¿›å£å•†å“ä»·æ ¼ã€‚ä¸“å®¶è®¤ä¸ºéœ€è¦å›½é™…åè°ƒä¸é™ä½åŒºåŸŸç´§å¼ æ‰èƒ½ç¼“è§£é£é™©ã€‚"
        }
      }
    ];

    const state = {
      query: "",
      video: { status: "idle", items: [] },
      news: { status: "idle", items: [] },
      summaryOpen: { video: false, news: false }
    };

    const homeEl = document.getElementById("home");
    const resultsEl = document.getElementById("results");
    const queryTextEl = document.getElementById("queryText");
    const searchInput = document.getElementById("searchInput");
    const videoStatusEl = document.getElementById("videoStatus");
    const newsStatusEl = document.getElementById("newsStatus");
    const videoCardsEl = document.getElementById("videoCards");
    const newsCardsEl = document.getElementById("newsCards");
    const videoSummaryBtn = document.getElementById("videoSummaryBtn");
    const newsSummaryBtn = document.getElementById("newsSummaryBtn");
    const videoSummaryEl = document.getElementById("videoSummary");
    const newsSummaryEl = document.getElementById("newsSummary");

    function interpolate(text, query) {
      return text.replace(/\{q\}/g, query);
    }

    function buildVideoData(query) {
      return LANGS.map((lang) => ({
        ...lang,
        videoTitle: interpolate(lang.videoTitle, query),
        comments: lang.comments.map((comment) => ({
          original: interpolate(comment.original, query),
          zh: interpolate(comment.zh, query)
        }))
      }));
    }

    function buildNewsData(query) {
      return LANGS.map((lang) => ({
        ...lang,
        headline: interpolate(lang.news.headline, query),
        summary: interpolate(lang.news.summary, query),
        summaryZh: interpolate(lang.news.summaryZh, query)
      }));
    }

    function renderSkeletonCards(targetEl) {
      targetEl.innerHTML = LANGS.map(
        () => `
          <div class="card">
            <div class="skeleton" style="width: 60%;"></div>
            <div class="skeleton" style="width: 90%;"></div>
            <div class="skeleton" style="width: 72%;"></div>
            <div class="skeleton" style="width: 88%;"></div>
            <div class="skeleton skeleton-block"></div>
          </div>
        `
      ).join("");
    }

    function renderVideoCards() {
      if (state.video.status !== "ready") {
        renderSkeletonCards(videoCardsEl);
        return;
      }

      videoCardsEl.innerHTML = state.video.items
        .map(
          (item) => `
          <div class="card">
            <div class="card-header">
              <div class="lang-title">
                <span>${item.emoji}</span>
                <span>${item.label}</span>
              </div>
              <span class="badge">YouTube</span>
            </div>
            <div class="meta">ä»£è¡¨è§†é¢‘ï¼š${item.videoTitle}</div>
            <div class="meta">é¢‘é“ï¼š${item.videoChannel}</div>
            <div class="divider"></div>
            ${item.comments
              .map(
                (comment) => `
                <div class="comment">
                  <div class="original">${comment.original}</div>
                  <div class="translated">${comment.zh}</div>
                </div>
              `
              )
              .join("")}
          </div>
        `
        )
        .join("");
    }

    function renderNewsCards() {
      if (state.news.status !== "ready") {
        renderSkeletonCards(newsCardsEl);
        return;
      }

      newsCardsEl.innerHTML = state.news.items
        .map(
          (item) => `
          <div class="card">
            <div class="card-header">
              <div class="lang-title">
                <span>${item.emoji}</span>
                <span>${item.label}</span>
              </div>
              <span class="badge">News</span>
            </div>
            <div class="meta">æ¥æºï¼š${item.news.source}</div>
            <div class="meta">æ ‡é¢˜ï¼š${item.headline}</div>
            <div class="divider"></div>
            <div class="news-summary"><strong>æ‘˜è¦ï¼š</strong>${item.summary}</div>
            <div class="news-summary"><strong>ä¸­æ–‡è¯‘æ–‡ï¼š</strong>${item.summaryZh}</div>
          </div>
        `
        )
        .join("");
    }

    function updateStatus() {
      videoStatusEl.textContent =
        state.video.status === "ready" ? "è¯„è®ºå·²å°±ç»ª" : "æ­£åœ¨æŠ“å–è¯„è®º";
      newsStatusEl.textContent =
        state.news.status === "ready" ? "æ–°é—»å·²å°±ç»ª" : "æ­£åœ¨æŠ“å–æ–°é—»";

      videoStatusEl.classList.toggle("ready", state.video.status === "ready");
      newsStatusEl.classList.toggle("ready", state.news.status === "ready");

      videoSummaryBtn.disabled = state.video.status !== "ready";
      newsSummaryBtn.disabled = state.news.status !== "ready";
    }

    function renderSummaries() {
      videoSummaryEl.classList.toggle("active", state.summaryOpen.video);
      newsSummaryEl.classList.toggle("active", state.summaryOpen.news);
    }

    function generateVideoSummary(query) {
      return `
        <h3>AI æ€»ç»“ Â· å¤šè¯­è¨€è¯„è®ºæ€åº¦</h3>
        <p>å›´ç»•â€œ${query}â€ï¼Œå„è¯­è¨€è¯„è®ºæ™®éå…³æ³¨ç‰©æµæˆæœ¬ã€ä¾›åº”é“¾ç¨³å®šä¸å®‰å…¨è¡ŒåŠ¨æ•ˆæœã€‚</p>
        <p>æ¬§ç¾è¯„è®ºæ›´å¼ºè°ƒç»æµæˆæœ¬ä¸æ”¿åºœé€æ˜åº¦ï¼›äºšæ´²è¯„è®ºå¼ºè°ƒå†²çªæ ¹æºä¸å¤šè¾¹åä½œï¼›æ‹‰ç¾è¯„è®ºå¼ºè°ƒè¿›å£ä»·æ ¼å‹åŠ›ä¸è·¯çº¿å¤šå…ƒåŒ–ã€‚</p>
        <p>æ•´ä½“æƒ…ç»ªåè°¨æ…ï¼Œæ‹…å¿§æˆæœ¬ä¼ å¯¼ï¼Œä½†å¯¹å¤–äº¤ç¼“å’Œä»æŠ±æœ‰æœŸå¾…ã€‚</p>
      `;
    }

    function generateNewsSummary(query) {
      return `
        <h3>AI æ€»ç»“ Â· å¤šå›½åª’ä½“æŠ¥é“å·®å¼‚</h3>
        <p>æŠ¥é“æ™®éå°†â€œ${query}â€æè¿°ä¸ºå¯¹èˆªè¿ä¸é€šèƒ€çš„å‹åŠ›æºï¼Œä½†è§’åº¦æœ‰æ‰€åŒºåˆ«ã€‚</p>
        <p>è‹±è¯­ä¸å¾·è¯­åª’ä½“å¼ºè°ƒè¿ä»·ä¸å®‰å…¨è¡ŒåŠ¨çš„æ”¿ç­–é€‰æ‹©ï¼›æ³•è¯­ä¸è¥¿è¯­æ›´å¼ºè°ƒå¤–äº¤ä¸åœ°åŒºç¨³å®šï¼›ä¸­æ–‡åª’ä½“çªå‡ºå†²çªå¤–æº¢ä¸å¤šè¾¹æŠ¤èˆªæœºåˆ¶ã€‚</p>
        <p>æ•´ä½“æŠ¥é“åŸºè°ƒä»¥é£é™©æé†’ä¸ºä¸»ï¼ŒåŒæ—¶å¼ºè°ƒé•¿æœŸä¾›åº”é“¾é‡æ„çš„è¶‹åŠ¿ã€‚</p>
      `;
    }

    function toggleSummary(kind) {
      if (state[kind].status !== "ready") {
        return;
      }

      state.summaryOpen[kind] = !state.summaryOpen[kind];

      if (kind === "video") {
        videoSummaryEl.innerHTML = generateVideoSummary(state.query);
      } else {
        newsSummaryEl.innerHTML = generateNewsSummary(state.query);
      }

      renderSummaries();
    }

    function startSearch() {
      const query = searchInput.value.trim();
      if (!query) {
        searchInput.focus();
        return;
      }

      state.query = query;
      state.video.status = "loading";
      state.news.status = "loading";
      state.video.items = [];
      state.news.items = [];
      state.summaryOpen = { video: false, news: false };

      queryTextEl.textContent = query;
      homeEl.style.display = "none";
      resultsEl.classList.add("active");

      renderSkeletonCards(videoCardsEl);
      renderSkeletonCards(newsCardsEl);
      updateStatus();
      renderSummaries();

      setTimeout(() => {
        state.video.items = buildVideoData(query);
        state.video.status = "ready";
        renderVideoCards();
        updateStatus();
      }, 800);

      setTimeout(() => {
        state.news.items = buildNewsData(query);
        state.news.status = "ready";
        renderNewsCards();
        updateStatus();
      }, 1100);
    }

    function resetSearch() {
      resultsEl.classList.remove("active");
      homeEl.style.display = "flex";
      searchInput.focus();
    }

    document.getElementById("searchBtn").addEventListener("click", startSearch);
    document.getElementById("resetBtn").addEventListener("click", resetSearch);
    videoSummaryBtn.addEventListener("click", () => toggleSummary("video"));
    newsSummaryBtn.addEventListener("click", () => toggleSummary("news"));

    searchInput.addEventListener("keydown", (event) => {
      if (event.key === "Enter") {
        startSearch();
      }
    });

    renderVideoCards();
    renderNewsCards();
  </script>
</body>
</html>
